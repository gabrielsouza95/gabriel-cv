import*as e from"https://unpkg.com/three@0.127.0/build/three.module.js";import{STLLoader as y}from"https://unpkg.com/three@0.127.0/examples/jsm/loaders/STLLoader.js";const x=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))f(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&f(u)}).observe(document,{childList:!0,subtree:!0});function l(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function f(o){if(o.ep)return;o.ep=!0;const n=l(o);fetch(o.href,n)}};x();const i=new e.Scene,s=new e.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),m=new e.WebGLRenderer({canvas:document.querySelector("#bg")});m.setPixelRatio(window.devicePixelRatio);m.setSize(window.innerWidth,window.innerHeight);s.position.setZ(30);s.position.setX(-3);m.render(i,s);const L=new e.TorusGeometry(10,3,16,100),p=new e.MeshStandardMaterial({color:16737095});let d=new e.Mesh(L,p);const M=new y;M.load("assets/3d_models/pochita_resin.stl",function(t){d=new e.Mesh(t,p);const r={x:10,y:10,z:-30};d.position.set(r.x,r.y,r.z),d.scale.set(.5,.5,.5),i.add(d)},t=>{console.log(t.loaded/t.total*100+"% loaded")},t=>{console.log(t)});const w=new e.PointLight(16777215);w.position.set(5,5,5);const S=new e.AmbientLight(16777215);i.add(w,S);function b(){const t=new e.SphereGeometry(.25,24,24),r=new e.MeshStandardMaterial({color:16777215}),l=new e.Mesh(t,r),[f,o,n]=Array(3).fill().map(()=>e.MathUtils.randFloatSpread(100));l.position.set(f,o,n),i.add(l)}Array(200).fill().forEach(b);const T=new e.TextureLoader().load("./assets/image_files/space.jpg");i.background=T;const z=new e.TextureLoader().load("./assets/image_files/southern_ring_nebula.png"),c=new e.Mesh(new e.BoxGeometry(3,3,3),new e.MeshBasicMaterial({map:z}));i.add(c);const _=new e.TextureLoader().load("./assets/image_files/moon.jpg"),v=new e.TextureLoader().load("./assets/image_files/normal.jpg"),a=new e.Mesh(new e.SphereGeometry(3,32,32),new e.MeshStandardMaterial({map:_,normalMap:v}));i.add(a);a.position.z=30;a.position.setX(-10);c.position.z=-5;c.position.x=2;function h(){const t=document.body.getBoundingClientRect().top;a.rotation.x+=.05,a.rotation.y+=.075,a.rotation.z+=.05,c.rotation.y+=.01,c.rotation.z+=.01,s.position.z=t*-.01,s.position.x=t*-2e-4,s.rotation.y=t*-2e-4}document.body.onscroll=h;h();function g(){requestAnimationFrame(g),d.rotation.x+=.1,a.rotation.x+=.005,m.render(i,s)}g();
